<div class="container-fluid">

  <div class="row">
    <div class="col-xl-12">
      <div class="card">

        <div class="card-body border-bottom">
          <div class="d-flex align-items-center">
            <h5 class="mb-0 card-title flex-grow-1">Compras</h5>
            <div class="flex-shrink-0 d-flex gap-1">
              <a href="javascript:void(0);" class="btn btn-primary btn-sm" (click)="openModal(content)">Nuevo</a>
            </div>
          </div>
        </div>

        <div class="card-body border-bottom">
          <!--div class="d-flex justify-content-center" >
            <div class="spinner-border" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div-->
          <tabset [justified]="true" class="nav-tabs">
            <tab>
              <ng-template tabHeading class="mb-2">
                <span class="d-block d-sm-none"><i class="fas fa-home"></i></span>
                <span class="d-none d-sm-block">Requisiciones</span>
              </ng-template>
              <div class="tab-page-content  mt-3">
                <table class="table table-striped table-hover table-sm table-bordered" >
                  <thead class="table-light">
                    <tr>
                      <th>Empresa</th>
                      <th>Solicita</th>
                      <th>Usuario Destino</th>
                      <th>Fecha Solicitud</th>
                    </tr>
                  </thead>
                  <tbody>

                  </tbody>
                </table>
              </div>
            </tab>
            <tab>
              <ng-template tabHeading class="mb-2">
                <span class="d-block d-sm-none"><i class="far fa-user"></i></span>
                <span class="d-none d-sm-block">Cotizaciones</span>
              </ng-template>
              <div class="tab-page-content  mt-3">
                <p>
                  Food truck fixie locavore, accusamus mcsweeney's marfa nulla
                  single-origin coffee squid. Exercitation +1 labore velit, blog
                  sartorial PBR leggings next level wes anderson artisan four loko
                  farm-to-table craft beer twee. Qui photo booth letterpress,
                  commodo enim craft beer mlkshk.
                </p>
                <p class="mb-0"> Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts
                  ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna 8-bit</p>
              </div>

            </tab>
            <tab>
              <ng-template tabHeading class="mb-2">
                <span class="d-block d-sm-none"><i class="fas fa-cog"></i></span>
                <span class="d-none d-sm-block">Ordenes de Compra</span>
              </ng-template>
              <div class="tab-page-content mt-3">
                <p>
                  Trust fund seitan letterpress, keytar raw denim keffiyeh etsy
                  art party before they sold out master cleanse gluten-free squid
                  scenester freegan cosby sweater. Fanny pack portland seitan DIY,
                  art party locavore wolf cliche high life echo park Austin. Cred
                  vinyl keffiyeh DIY salvia PBR, banh mi before they sold out
                  farm-to-table.
                </p>
                <p class="mb-0">Fanny pack portland seitan DIY,
                  art party locavore wolf cliche high life echo park Austin. Cred
                  vinyl keffiyeh DIY salvia PBR, banh mi before they sold out
                  farm-to-table.
                </p>
              </div>
            </tab>
            <tab>
              <ng-template tabHeading class="mb-2">
                <span class="d-block d-sm-none"><i class="far fa-envelope"></i></span>
                <span class="d-none d-sm-block">Finalizadas</span>
              </ng-template>
              <div class="tab-page-content">
                <p>
                  Etsy mixtape wayfarers, ethical wes anderson tofu before they
                  sold out mcsweeney's organic lomo retro fanny pack lo-fi
                  farm-to-table readymade. Messenger bag gentrify pitchfork
                  tattooed craft beer, iphone skateboard locavore carles etsy
                  salvia banksy hoodie helvetica. DIY synth PBR banksy irony.
                  Leggings gentrify squid 8-bit cred.
                </p>
                <p class="mb-0">DIY synth PBR banksy irony.
                  Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh
                  mi whatever gluten-free.</p>
              </div>
            </tab>
          </tabset>
        </div><!--div.card-body-->
      </div>
    </div>
  </div>

</div> <!-- container-fluid -->


<!-- Order Create Model -->
<ng-template #content role="document" let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Nueva Requisición de Compra</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal" (click)="modalRef?.hide()"></button>
  </div>
  <div class="modal-body">
    <form class="row g-2" [formGroup]="formProveedores">

      <div class="col-md-6">
        <label for="nombre" class="form-label">Solicita: *</label>
        <input type="text" class="form-control form-control-sm is-invalid" formControlName="nombre" id="nombre" name="nombre"  aria-label="Nombre">
        <div *ngIf=" (proveedoresFormControl.nombre.touched  || submitted)">
          <div class="text-danger form-text" *ngIf="proveedoresFormControl.nombre.errors?.['required']">Nombre es requerido.</div>
        </div>
      </div>
      <div class="col-md-6">
        <label for="contacto" class="form-label form-label-sm">Empresa: *</label>
        <input type="text" class="form-control form-control-sm" formControlName="contacto" id="contacto" name="contacto" aria-label="Contacto">
        <div *ngIf=" (proveedoresFormControl.contacto.touched  || submitted)">
          <div class="text-danger form-text" *ngIf="proveedoresFormControl.contacto.errors?.['required']">Contacto es requerido.</div>
        </div>
      </div>

      <div class="col-md-6">
        <label for="telefono" class="form-label">Area que solicita: *</label>
        <input type="text" class="form-control form-control-sm" formControlName="telefono" id="telefono" name="telefono" aria-label="Teléfono">
        <div *ngIf=" (proveedoresFormControl.telefono.touched  || submitted)">
          <div class="text-danger form-text" *ngIf="proveedoresFormControl.telefono.errors?.['required']">Teléfono es requerido.</div>
        </div>
      </div>
      <div class="col-md-6">
        <label for="localidad" class="form-label">Departamento: *</label>
        <input type="text" class="form-control form-control-sm" formControlName="localidad" id="localidad" name="localidad" aria-label="Localidad">
        <div *ngIf=" (proveedoresFormControl.localidad.touched  || submitted)">
          <div class="text-danger form-text" *ngIf="proveedoresFormControl.localidad.errors?.['required']">Localidad es requerido.</div>
        </div>
      </div>

      <div class="col-md-12">
        <label for="condiciones" class="form-label">Motivo de la compra: *</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>

        <div *ngIf=" (proveedoresFormControl.condiciones.touched  || submitted)">
          <div class="text-danger form-text" *ngIf="proveedoresFormControl.condiciones.errors?.['required']">Condiciones es requerido.</div>
        </div>
      </div>

      <div class="alert alert-info mt-4" role="alert">
        Insumos
        <button class="btn btn-primary btn-sm float-end">Agregar</button>
      </div>

      <table class="table table-striped table-hover table-sm table-bordered" id="tableCompraInsumos">
        <thead class="table-light">
          <tr>
            <th>Cantidad</th>
            <th>Unidad de Medida</th>
            <th>Descripción</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <input type="number" class="form-control form-control-sm" size="4">
            </td>
            <td>
              <select class="form-select form-select-sm" aria-label="Default select example">
                <option selected>Open this select menu</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
              </select>
            </td>
            <td>
              <input type="text" class="form-control form-control-sm" size="">
            </td>
          </tr>
        </tbody>
      </table>

    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal" (click)="modalRef?.hide()">Cerrar</button>
    <button type="button" class="btn btn-primary btn-sm" (click)="save()">Guardar</button>
  </div>
</ng-template>
<!--End Modal -->

